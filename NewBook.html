<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewBook</title>

    <!-- link icone fontawesome
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

    <!-- link libreria bs 5.3.3 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>
    <header>
        <!-- -----NAVBAR------ -->
        <nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="light">
            <div class="container-fluid">
                <a class="navbar-brand" href="./index.html"><img width="50px" src="./img/duck.png" alt=""></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Catalogo Libri</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Anagrafica Utenti</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Storico Prestiti</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Help</a>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="container my-3">
            <h1>Nuovo Libro</h1>
            <form class="needs-validation" id="pippo" novalidate>
                <div class="row">
                    <div class="mb-3 col-6">
                        <label for="AuthorName" class="form-label">Nome Autore</label>
                        <input type="text" class="form-control" id="AuthorName"
                            placeholder="Inserisci il nome dell'Autore" required>
                        <div class="valid-feedback">
                            looks good!
                        </div>
                        <div class="invalid-feedback">
                            Aggiungi Un Nome Valido
                        </div>
                    </div>

                    <div class="mb-3 col-6">
                        <label for="AuthorsurName" class="form-label">Cognome Autore</label>
                        <input type="text" class="form-control" id="AuthorsurName"
                            placeholder="Inserisci il Cognome dell'Autore" required>
                        <div class="valid-feedback">
                            looks good!
                        </div>
                        <div class="invalid-feedback">
                            Aggiungi Un Cognome Valido
                        </div>
                    </div>

                    <div class="mb-3 col">
                        <label for="booktitle" class="form-label"> Titolo </label>
                        <input type="text" class="form-control" id="booktitle"
                            placeholder="Inserisci il Titolo del libro" required>
                        <div id="booktitle" class="form-text">Titolo versione italiana</div>
                        <div class="valid-feedback">
                            looks good!
                        </div>
                        <div class="invalid-feedback">
                            Specifica meglio il titolo del libro
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3 col-sm-12 col-md-4">
                        <label for="genre" class="form-label">Genere</label>
                        <select class="form-select" id="genre" required>

                            <!-- chiedere perchè così funziona il required, lasciando value vuoto 
                            dell'option che si vuole NON venga scelta -->

                            <option value="">Scegli il genere</option>
                            <option value="Horror">Horror</option>
                            <option value="Fantasy">Fantasy</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                        <div class="valid-feedback">
                            looks good!
                        </div>

                    </div>

                    <div class="mb-3 col-sm-12 col-md-4">
                        <label for="year" class="form-label">Anno di Pubblicazione</label>
                        <input type="number" class="form-control" id="year" placeholder="Inserisci l'anno" min="1800"
                            max="2024" required>
                        <div class="valid-feedback">
                            looks good!
                        </div>
                    </div>

                    <div class="mb-3 col-sm-12 col-md-4">
                        <label for="isbn" class="form-label">ISBN#</label>
                        <input type="number" class="form-control" id="isbn" placeholder="Inserisci il codice ISBN#"
                            min="1111111111111" max="9999999999999" required>
                        <div class="valid-feedback">
                            looks good!
                        </div>
                        <div class="invalid-feedback">
                            Specifica i caratteri (ESEMPIO: 978–88–8080–123-4)
                        </div>
                    </div>

                    <hr class="my-4">

                    <div class="mb-3 col-12">
                        <label for="note" class="form-label">Note</label>
                        <textarea class="form-control" placeholder="Inserisci eventuali note sul libro" id="note"
                            style="height: 100px" required></textarea>
                        <div class="valid-feedback">
                            looks good!
                        </div>
                    </div>
                </div>

                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="exampleCheck1" required>
                    <label class="form-check-label" for="exampleCheck1">Disponibile anche in digitale</label>
                </div>
                <button type="submit" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="exampleModal">Aggiungi Libro</button>
            </form>

            <!-- ------BONUS MODAL------- -->
            <div class="modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body text-success">
                            <h5>Il form è stato inviato correttamente!</h5>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary close"
                                data-bs-dismiss="modal">Chiudi</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- link bs.js 5.3.3 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!--For custom Bootstrap form validation messages,
    you’ll need to add the novalidate boolean attribute to your <form>.
    This disables the browser default feedback tooltips, 
    but still provides access to the form validation APIs in JavaScript. -->

    <!-- // Example starter JavaScript for disabling form submissions if there are invalid fields -->
    <script>
        (() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>

    <!-- prova rudimentale dello show di un modal
    if "/* tutti i campi sono stati validati */" -->

    <!-- ------BONUS MODAL------- -->
    <script>
        const form = document.getElementById('pippo');
        const modal = document.getElementById('exampleModal');
        const span = document.getElementsByClassName("close")[0];

        form.addEventListener('submit', (event) => {
            event.preventDefault();
            // Impedisci l'invio del form in modo tradizionale

            if (form.checkValidity()) {
                // Tutti i campi sono validi
                modal.style.display = 'block';
            } else {
                // Almeno un campo non è valido
                // Mostra un messaggio di errore generico o più specifici
                alert('Si prega di correggere gli errori nel form.');
            }
        });

        span.onclick = function () {
            modal.style.display = "none";
        }
    </script>


</body>

</html>